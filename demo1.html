<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>检测浏览器类别、h5接口调用手机相册、拍照、录音、录像、拨号及实时视频流</title>
    <script src="apiDemo/vconsole.min.js"></script>
    <script>
        var vConsole = new VConsole();
    </script>
    <script src="apiDemo/jquery-2.1.1.min.js"></script>
</head>
<body>
<h3>当前浏览器为：<span id="browser" style="color:red;"></span></h3>
<h3>UA：<span id="ua" style="font-size: 14px;"></span></h3>

<h3>调用摄像头并显示图片</h3>
<form id="form1" runat="server">
    <input type='file' id="imgInp"  accept="image/*" capture="camera" value="摄像头"/>
    <div>
        <img id="blah" src="#" alt="显示您上传的商品图片"  style="max-width: 500px;"/>
    </div>
</form>
<h3>调用相册</h3>
<input type="file" accept="image/*">
<h3>录像</h3>
<input type="file" accept="video/*" capture="camcorder">
<h3>录音</h3>
<input type="file" accept="audio/*" capture="microphone"><br>

<h3>移动WEB页面JS一键拨打号码咨询功能</h3>
<a href="tel:110">移动WEB页面JS一键拨打号码咨询功能（点击这里）</a>
</body>
<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    $("#imgInp").change(function(){
        readURL(this);
    });
</script>
<script type="text/javascript">
    /*
     * 描述：判断浏览器信息
     * 编写：LittleQiang_w
     * 日期：2016.1.5
     * 版本：V1.1
     */

    //判断当前浏览类型
    function BrowserType()
    {
        var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串
        console.log(navigator);
        document.getElementById('ua').innerHTML = userAgent;
        var isOpera = userAgent.indexOf("Opera") > -1; //判断是否Opera浏览器
//        var isIE = userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera; //判断是否IE浏览器
        var isIE = (!!window.ActiveXObject || "ActiveXObject" in window); //判断是否IE浏览器
        var isEdge = userAgent.indexOf("Windows NT 6.1; Trident/7.0;") > -1 && !isIE; //判断是否IE的Edge浏览器
        var isFF = userAgent.indexOf("Firefox") > -1; //判断是否Firefox浏览器
        var isSafari = userAgent.indexOf("Safari") > -1 && userAgent.indexOf("Chrome") == -1; //判断是否Safari浏览器
        var isChrome = userAgent.indexOf("Chrome") > -1 && userAgent.indexOf("Safari") > -1; //判断Chrome浏览器
        var isWeiXin=(userAgent.toLowerCase().match(/MicroMessenger/i) == 'micromessenger'); //判断微信浏览器

        if (isWeiXin) { return "微信";}
        if (isIE)
        {
            var reIE = new RegExp("MSIE (\\d+\\.\\d+);");
            reIE.test(userAgent);
            var fIEVersion = parseFloat(RegExp["$1"]);
            if(fIEVersion == 5.5)
            { return "IE5.5";}
            else if(fIEVersion == 6)
            { return "IE6";}
            else if(fIEVersion == 7)
            { return "IE7";}
            else if(fIEVersion == 8)
            { return "IE8";}
            else if(fIEVersion == 9)
            { return "IE9";}
            else if(fIEVersion == 10)
            { return "IE10";}
            else if(fIEVersion == 11)
            { return "IE11";}
            else
            { return "0"}//IE版本过低
        }//isIE end

        if (isFF) {  return "FireFox";}
        if (isOpera) {  return "Opera";}
        if (isSafari) {  return "Safari";}
        if (isChrome) { return "Chrome";}
        if (isEdge) { return "Edge";}


    }//myBrowser() end
    document.getElementById('browser').innerHTML=BrowserType();

</script>
</html>